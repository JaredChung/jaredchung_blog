{% extends 'index.html' %}

{% block header %}
    <header class="masthead" style="background-image: url('{{ url_for('static', filename ='img/home-bg.jpg')}}')">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <div class="page-heading">
              <h1>Contact Me</h1>
              <span class="subheading">Have questions? I have answers.</span>
            </div>
          </div>
        </div>
      </div>
    </header>
{% endblock %}

{% block content %}

<div class="container">
    <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

         {% if success %}
            <p>Thank you for your message. We'll get back to you shortly.</p>
         {% else %}

        <p>Want to get in touch? Fill out the form below to send me a message and I will get back to you as soon as possible!</p>

        {% for message in get_flashed_messages() %}
          <div class="flash">{{ message }}</div>
        {% endfor %}
        {% for message in form.name.errors %}
        <div class="flash">{{ message }}</div>
        {% endfor %}
        {% for message in form.email.errors %}
        <div class="flash">{{ message }}</div>
        {% endfor %}
        {% for message in form.subject.errors %}
        <div class="flash">{{ message }}</div>
        {% endfor %}
        {% for message in form.message.errors %}
        <div class="flash">{{ message }}</div>
        {% endfor %}

        <form name="sentMessage" id="contactForm" novalidate action="{{ url_for('contact') }}" method=post>
            {{ form.hidden_tag() }}

              <div class="control-group">

                    <label>{{ form.name.label }}</label>
                    {{ form.name }}

            </div>

            <div class="control-group">
                    <label>{{ form.email.label }}</label>
                    {{ form.email }}
            </div>

            <div class="control-group">
                    <label>{{ form.subject.label }}</label>
                    {{ form.subject }}
            </div>

            <div class="control-group">
                    <label>{{ form.message.label }}</label>
                    {{ form.message }}
            </div>

            <br>
            <div id="success"></div>
                <div class="form-group">
                        {{ form.submit }}
                </div>
          </form>

          {% endif %}
    </div>
    </div>
</div>
{% endblock %}

